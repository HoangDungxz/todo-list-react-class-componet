{"ast":null,"code":"const todoApi = {\n  todos: [{\n    id: 1,\n    status: 0,\n    name: 'Học JS'\n  }, {\n    id: 2,\n    status: 1,\n    name: 'Học React'\n  }, {\n    id: 3,\n    status: 2,\n    name: 'Học Redux saga'\n  }],\n  get: function () {\n    let id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    // trả về toàn bộ list\n    if (!id) {\n      return todos;\n    } // trả về todo theo id\n\n\n    return todos.find(t => t.id === id);\n  },\n  save: todo => {\n    if (todo.id === undefined) {\n      // get latest ID\n      const ids = todos.map(todo => {\n        return todo.id;\n      });\n      const lastestId = Math.max(...ids); // thêm id vào object todo\n\n      todo = { ...todo,\n        id: lastestId + 1\n      }; // thêm to do vào list\n\n      todos.push(todo); // trả về dữ liệu mới\n\n      return todo;\n    } else {\n      // tìm kiếm theo id và sửa nếu tìm thấy\n      todos = todos.map(oldTodo => oldTodo.id === todo.id ? todo : oldTodo); // trả về dữ liệu mới\n\n      return todo;\n    }\n  },\n  delete: id => {\n    // lọc dữ liệu loại bỏ object có id = id\n    const newtodos = todos.filter(oldTodo => {\n      return oldTodo.id !== id;\n    }); // kiểm tra xem lọc được không nếu được thì gán lại cho list mớt\n\n    todos = newtodos;\n    return true;\n  }\n};\nexport default todoApi;","map":{"version":3,"names":["todoApi","todos","id","status","name","get","find","t","save","todo","undefined","ids","map","lastestId","Math","max","push","oldTodo","delete","newtodos","filter"],"sources":["C:/react/retest/todo-list-fuc/src/apis/todoApi.js"],"sourcesContent":["const todoApi = {\r\n\ttodos: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tstatus: 0,\r\n\t\t\tname: 'Học JS',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tstatus: 1,\r\n\t\t\tname: 'Học React',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tstatus: 2,\r\n\t\t\tname: 'Học Redux saga',\r\n\t\t},\r\n\t],\r\n\r\n\tget: (id = false) => {\r\n\t\t// trả về toàn bộ list\r\n\t\tif (!id) {\r\n\t\t\treturn todos;\r\n\t\t}\r\n\t\t// trả về todo theo id\r\n\t\treturn todos.find((t) => t.id === id);\r\n\t},\r\n\r\n\tsave: (todo) => {\r\n\t\tif (todo.id === undefined) {\r\n\t\t\t// get latest ID\r\n\t\t\tconst ids = todos.map((todo) => {\r\n\t\t\t\treturn todo.id;\r\n\t\t\t});\r\n\r\n\t\t\tconst lastestId = Math.max(...ids);\r\n\t\t\t// thêm id vào object todo\r\n\t\t\ttodo = {\r\n\t\t\t\t...todo,\r\n\t\t\t\tid: lastestId + 1,\r\n\t\t\t};\r\n\r\n\t\t\t// thêm to do vào list\r\n\t\t\ttodos.push(todo);\r\n\r\n\t\t\t// trả về dữ liệu mới\r\n\t\t\treturn todo;\r\n\t\t} else {\r\n\t\t\t// tìm kiếm theo id và sửa nếu tìm thấy\r\n\t\t\ttodos = todos.map((oldTodo) =>\r\n\t\t\t\toldTodo.id === todo.id ? todo : oldTodo\r\n\t\t\t);\r\n\t\t\t// trả về dữ liệu mới\r\n\t\t\treturn todo;\r\n\t\t}\r\n\t},\r\n\tdelete: (id) => {\r\n\t\t// lọc dữ liệu loại bỏ object có id = id\r\n\t\tconst newtodos = todos.filter((oldTodo) => {\r\n\t\t\treturn oldTodo.id !== id;\r\n\t\t});\r\n\r\n\t\t// kiểm tra xem lọc được không nếu được thì gán lại cho list mớt\r\n\t\ttodos = newtodos;\r\n\t\treturn true;\r\n\t},\r\n};\r\n\r\nexport default todoApi;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG;EACfC,KAAK,EAAE,CACN;IACCC,EAAE,EAAE,CADL;IAECC,MAAM,EAAE,CAFT;IAGCC,IAAI,EAAE;EAHP,CADM,EAMN;IACCF,EAAE,EAAE,CADL;IAECC,MAAM,EAAE,CAFT;IAGCC,IAAI,EAAE;EAHP,CANM,EAWN;IACCF,EAAE,EAAE,CADL;IAECC,MAAM,EAAE,CAFT;IAGCC,IAAI,EAAE;EAHP,CAXM,CADQ;EAmBfC,GAAG,EAAE,YAAgB;IAAA,IAAfH,EAAe,uEAAV,KAAU;;IACpB;IACA,IAAI,CAACA,EAAL,EAAS;MACR,OAAOD,KAAP;IACA,CAJmB,CAKpB;;;IACA,OAAOA,KAAK,CAACK,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACL,EAAF,KAASA,EAA3B,CAAP;EACA,CA1Bc;EA4BfM,IAAI,EAAGC,IAAD,IAAU;IACf,IAAIA,IAAI,CAACP,EAAL,KAAYQ,SAAhB,EAA2B;MAC1B;MACA,MAAMC,GAAG,GAAGV,KAAK,CAACW,GAAN,CAAWH,IAAD,IAAU;QAC/B,OAAOA,IAAI,CAACP,EAAZ;MACA,CAFW,CAAZ;MAIA,MAAMW,SAAS,GAAGC,IAAI,CAACC,GAAL,CAAS,GAAGJ,GAAZ,CAAlB,CAN0B,CAO1B;;MACAF,IAAI,GAAG,EACN,GAAGA,IADG;QAENP,EAAE,EAAEW,SAAS,GAAG;MAFV,CAAP,CAR0B,CAa1B;;MACAZ,KAAK,CAACe,IAAN,CAAWP,IAAX,EAd0B,CAgB1B;;MACA,OAAOA,IAAP;IACA,CAlBD,MAkBO;MACN;MACAR,KAAK,GAAGA,KAAK,CAACW,GAAN,CAAWK,OAAD,IACjBA,OAAO,CAACf,EAAR,KAAeO,IAAI,CAACP,EAApB,GAAyBO,IAAzB,GAAgCQ,OADzB,CAAR,CAFM,CAKN;;MACA,OAAOR,IAAP;IACA;EACD,CAvDc;EAwDfS,MAAM,EAAGhB,EAAD,IAAQ;IACf;IACA,MAAMiB,QAAQ,GAAGlB,KAAK,CAACmB,MAAN,CAAcH,OAAD,IAAa;MAC1C,OAAOA,OAAO,CAACf,EAAR,KAAeA,EAAtB;IACA,CAFgB,CAAjB,CAFe,CAMf;;IACAD,KAAK,GAAGkB,QAAR;IACA,OAAO,IAAP;EACA;AAjEc,CAAhB;AAoEA,eAAenB,OAAf"},"metadata":{},"sourceType":"module"}