{"ast":null,"code":"class todoApi {\n  constructor() {\n    this.todos = [{\n      id: 1,\n      status: 0,\n      name: 'Học JS'\n    }, {\n      id: 2,\n      status: 1,\n      name: 'Học React'\n    }, {\n      id: 3,\n      status: 2,\n      name: 'Học Redux saga'\n    }];\n  }\n\n  GET() {\n    let id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    // trả về toàn bộ list\n    if (!id) {\n      return this.todos;\n    } // trả về todo theo id\n\n\n    return this.todos.find(t => t.id === id);\n  }\n\n  SAVE(todo) {\n    if (todo.id === undefined) {\n      // get latest ID\n      const ids = this.todos.map(todo => {\n        return todo.id;\n      });\n      const lastestId = Math.max(...ids); // thêm id vào object todo\n\n      todo = { ...todo,\n        id: lastestId + 1\n      }; // thêm to do vào list\n\n      this.todos.push(todo); // trả về dữ liệu mới\n\n      return todo;\n    } else {\n      // tìm kiếm theo id và sửa nếu tìm thấy\n      this.todos = this.todos.map(oldTodo => oldTodo.id === todo.id ? todo : oldTodo); // trả về dữ liệu mới\n\n      return todo;\n    }\n  }\n\n}\n\nexport default new todoApi();","map":{"version":3,"names":["todoApi","todos","id","status","name","GET","find","t","SAVE","todo","undefined","ids","map","lastestId","Math","max","push","oldTodo"],"sources":["C:/react/retest/todo-list/src/apis/todoApi.js"],"sourcesContent":["class todoApi {\r\n\ttodos = [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tstatus: 0,\r\n\t\t\tname: 'Học JS',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tstatus: 1,\r\n\t\t\tname: 'Học React',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tstatus: 2,\r\n\t\t\tname: 'Học Redux saga',\r\n\t\t},\r\n\t];\r\n\r\n\tGET(id = false) {\r\n\t\t// trả về toàn bộ list\r\n\t\tif (!id) {\r\n\t\t\treturn this.todos;\r\n\t\t}\r\n\t\t// trả về todo theo id\r\n\t\treturn this.todos.find((t) => t.id === id);\r\n\t}\r\n\r\n\tSAVE(todo) {\r\n\t\tif (todo.id === undefined) {\r\n\t\t\t// get latest ID\r\n\t\t\tconst ids = this.todos.map((todo) => {\r\n\t\t\t\treturn todo.id;\r\n\t\t\t});\r\n\r\n\t\t\tconst lastestId = Math.max(...ids);\r\n\t\t\t// thêm id vào object todo\r\n\t\t\ttodo = {\r\n\t\t\t\t...todo,\r\n\t\t\t\tid: lastestId + 1,\r\n\t\t\t};\r\n\r\n\t\t\t// thêm to do vào list\r\n\t\t\tthis.todos.push(todo);\r\n\r\n\t\t\t// trả về dữ liệu mới\r\n\t\t\treturn todo;\r\n\t\t} else {\r\n\t\t\t// tìm kiếm theo id và sửa nếu tìm thấy\r\n\t\t\tthis.todos = this.todos.map((oldTodo) =>\r\n\t\t\t\toldTodo.id === todo.id ? todo : oldTodo\r\n\t\t\t);\r\n\t\t\t// trả về dữ liệu mới\r\n\t\t\treturn todo;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new todoApi();\r\n"],"mappings":"AAAA,MAAMA,OAAN,CAAc;EAAA;IAAA,KACbC,KADa,GACL,CACP;MACCC,EAAE,EAAE,CADL;MAECC,MAAM,EAAE,CAFT;MAGCC,IAAI,EAAE;IAHP,CADO,EAMP;MACCF,EAAE,EAAE,CADL;MAECC,MAAM,EAAE,CAFT;MAGCC,IAAI,EAAE;IAHP,CANO,EAWP;MACCF,EAAE,EAAE,CADL;MAECC,MAAM,EAAE,CAFT;MAGCC,IAAI,EAAE;IAHP,CAXO,CADK;EAAA;;EAmBbC,GAAG,GAAa;IAAA,IAAZH,EAAY,uEAAP,KAAO;;IACf;IACA,IAAI,CAACA,EAAL,EAAS;MACR,OAAO,KAAKD,KAAZ;IACA,CAJc,CAKf;;;IACA,OAAO,KAAKA,KAAL,CAAWK,IAAX,CAAiBC,CAAD,IAAOA,CAAC,CAACL,EAAF,KAASA,EAAhC,CAAP;EACA;;EAEDM,IAAI,CAACC,IAAD,EAAO;IACV,IAAIA,IAAI,CAACP,EAAL,KAAYQ,SAAhB,EAA2B;MAC1B;MACA,MAAMC,GAAG,GAAG,KAAKV,KAAL,CAAWW,GAAX,CAAgBH,IAAD,IAAU;QACpC,OAAOA,IAAI,CAACP,EAAZ;MACA,CAFW,CAAZ;MAIA,MAAMW,SAAS,GAAGC,IAAI,CAACC,GAAL,CAAS,GAAGJ,GAAZ,CAAlB,CAN0B,CAO1B;;MACAF,IAAI,GAAG,EACN,GAAGA,IADG;QAENP,EAAE,EAAEW,SAAS,GAAG;MAFV,CAAP,CAR0B,CAa1B;;MACA,KAAKZ,KAAL,CAAWe,IAAX,CAAgBP,IAAhB,EAd0B,CAgB1B;;MACA,OAAOA,IAAP;IACA,CAlBD,MAkBO;MACN;MACA,KAAKR,KAAL,GAAa,KAAKA,KAAL,CAAWW,GAAX,CAAgBK,OAAD,IAC3BA,OAAO,CAACf,EAAR,KAAeO,IAAI,CAACP,EAApB,GAAyBO,IAAzB,GAAgCQ,OADpB,CAAb,CAFM,CAKN;;MACA,OAAOR,IAAP;IACA;EACD;;AAvDY;;AA0Dd,eAAe,IAAIT,OAAJ,EAAf"},"metadata":{},"sourceType":"module"}